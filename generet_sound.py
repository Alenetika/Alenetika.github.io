from gtts import gTTS
import os

# –¢–µ–∫—Å—Ç –¥–ª—è –æ–∑–≤—É—á–∫–∏
text = "–£–≤–∞–∂–∞–µ–º–∞—è –ê–Ω–Ω–∞ –í–∞–¥–∏–º–æ–≤–Ω–∞! –°–µ–≥–æ–¥–Ω—è —è –ø–æ–∑–¥—Ä–∞–≤–ª—è—é –í–∞—Å —Å —Å–∞–º—ã–º –≥–ª–∞–≤–Ω—ã–º —Å–æ–±—ã—Ç–∏–µ–º —Å–µ–Ω—Ç—è–±—Ä—è, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ —Å–≤–æ–µ–π –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ—Å—Ç–∏ –∑–∞—Ç–º–µ–≤–∞–µ—Ç –¥–∞–∂–µ –∫–æ–ª–ª–∞–± –®—É—Ñ—É—Ç–∏–Ω—Å–∫–æ–≥–æ –∏ —Ç—Ä–µ—Ç—å–µ —Å–µ–Ω—Ç—è–±—Ä—è. –í—ã ‚Äî —Å–∞–º–∞—è –ª—É—á—à–∞—è –∂–µ–Ω—â–∏–Ω–∞ –Ω–∞ —Å–≤–µ—Ç–µ... –í—ã –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç–µ –≤–æ–∫—Ä—É–≥ —Å–µ–±—è –±–æ–ª—å—à–æ–µ –≤–µ—Å—ë–ª–æ–µ –∫–æ–º—å—é–Ω–∏—Ç–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—Å–µ –º—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –∫ –ø—Ä–µ–∫—Ä–∞—Å–Ω–æ–º—É. –ü–æ–∑–¥—Ä–∞–≤–ª—è—é –í–∞—Å, –ª—é–±–æ–≤—å –º–æ—è, —Å –¥–Ω—ë–º —Ä–æ–∂–¥–µ–Ω–∏—è! –ñ–µ–ª–∞—é, —á—Ç–æ–±—ã –Ω–æ–≤—ã–π –≥–æ–¥ –í–∞—à–µ–π –∂–∏–∑–Ω–∏ –Ω–∞—á–∞–ª—Å—è –ª–µ–≥–µ–Ω–¥–∞—Ä–Ω–æ, —è—Ä–∫–æ –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ."


def save_google_tts(text, filename='–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ_–∞–Ω–Ω–µ.mp3', lang='ru'):
    """
    –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ–∫—Å—Ç –≤ MP3 –∏—Å–ø–æ–ª—å–∑—É—è Google Text-to-Speech
    """
    try:
        print("üéôÔ∏è  –°–∏–Ω—Ç–µ–∑ —Ä–µ—á–∏ —á–µ—Ä–µ–∑ Google TTS...")

        # –°–æ–∑–¥–∞–µ–º –æ–±—ä–µ–∫—Ç gTTS
        tts = gTTS(text=text, lang=lang, slow=False)

        # –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ MP3
        tts.save(filename)

        if os.path.exists(filename):
            file_size = os.path.getsize(filename) / 1024
            print(f"‚úÖ MP3 —Ñ–∞–π–ª —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω!")
            print(f"üìä –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: {file_size:.1f} KB")
            print(f"üìç –ü–æ–ª–Ω—ã–π –ø—É—Ç—å: {os.path.abspath(filename)}")
            return True
        else:
            print("‚ùå –§–∞–π–ª –Ω–µ –±—ã–ª —Å–æ–∑–¥–∞–Ω")
            return False

    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
        print("‚ö†Ô∏è  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (gTTS —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç)")
        return False


# –ò—Å–ø–æ–ª—å–∑—É–µ–º Google TTS –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ MP3
save_google_tts(text, '–ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ_–∞–Ω–Ω–µ_google.mp3')